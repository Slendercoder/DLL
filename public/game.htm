<!doctype html>
<html>
<style>
.droptarget {
    float: left;
    width: 100px;
    height: 35px;
    margin: 15px;
    padding: 10px;
    border: 1px solid #aaaaaa;
}
</style>

    <style>
        /* The Modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            padding-top: 100px; /* Location of the box */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        /* Modal Content */
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 40%;
        }
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
    <body>


        <h1><p align="center"><big><font size=10 face="arial">Vista principal</font></big></p></h1>
       <!-- <div align="center">
          <span  id="Nombre1"></span>
        </div>-->
        <div>
            <p>
                <DIV STYLE="position:absolute; top:250px; left:200px; visibility:visible z-index:1">
                  <!--imagen del boton Talk to your partner-->
                    <img type="button" draggable="false" src="Hablar.png" id='myBtn'
                           width="222.22" height="80" alt=""/></a>
                </DIV>
            </p>
        </div>

        <p>&nbsp;</p>

        <div>
            <p>
                <DIV STYLE="position:absolute; top:150px; left:650px; visibility:visible z-index:1">
                  <h1>
                      <font face="arial">Sus puntos:</font> <span id = "Puntaje"></span>
                  </h1>
                </DIV>
                <DIV STYLE="position:absolute; top:335px; left:670px; visibility:visible z-index:1">
                    <h3>
                        <font face="arial">Arrastre objetos aqu√≠<br> para formar un par:</font>
                    </h3>
                </DIV>

                <DIV STYLE="position:absolute; top:400px; left:640px; visibility:visible z-index:1">
                  <!--Casillas para arrastrar los objetos-->
                        <div class="droptarget" id = "Izquierdo">
                          <img id="parIzCir" style="display: none;" draggable="false" src="circle.png" width="40" height="40"/>
                          <img id="parIzCuad" style="display: none;" draggable="false" src="square.png" width="40" height="40"/>
                          <img id="parIzTri" style="display: none;" draggable="false" src="triangle.png" width="40" height="40"/>
                        </div>

                        <div class="droptarget" id = "Derecho">
                          <img id="parDerCir" style="display: none;" draggable="false" src="circle.png" width="40" height="40"/>
                          <img id="parDerCuad" style="display: none;" draggable="false" src="square.png" width="40" height="40"/>
                          <img id="parDerTri" style="display: none;" draggable="false" src="triangle.png" width="40" height="40"/>
                        </div>
                </DIV>

                <DIV STYLE="position:absolute; top:330px; left:985px; visibility:visible z-index:1">
                  <!--imagen de la canasta-->
                    <img src="a_canasta.png" draggable="false" align="right" width="280" height="258" alt=""/>
                </DIV>

                <DIV STYLE="position:absolute; top:500px; left:740px; visibility:visible z-index:1">
                  <!--imagen boton verde "To basket" -->
                    <img src="AlaCanasta.png" draggable="false" width="295" height="158" id="botonVerde" alt=""/>
                </DIV>
            </p>
        </div>


        <div>
            <p>
                <DIV STYLE="position:absolute; top:395px; left:130px; visibility:visible z-index:1">
                   <!--imagen del circulo-->
                    <img id="drag1" draggable="true" src="circle.png" alt="" width="80" height="80"/>
                </DIV>

                <DIV STYLE="position:absolute; top:398px; left:252px; visibility:visible z-index:1">
                  <!--imagen del cuadrado-->
                    <img id="drag2" draggable="true" src="square.png" width="80" height="80" alt=""/>
                </DIV>

                 <DIV STYLE="position:absolute; top:398px; left:372px; visibility:visible z-index:1">
                  <!--imagen del triangulo-->
                    <img id="drag3" draggable="true" src="triangle.png" width="80" height="80" alt=""/>
                </DIV>
            </p>
            <p>

                <DIV STYLE="position:absolute; top:467px; left:100px; visibility:visible z-index:-1">
                  <!--imagen del tarro #1-->
                    <img src="jar.png" draggable="false" width="145" height="145" alt="" />

                    <p id="demo" style="display: none;"></p>
                </DIV>

                <DIV STYLE="position:absolute; top:467px; left:225px; visibility:visible z-index:1">
                  <!--imagen del tarro #2-->
                    <img src="jar.png" draggable="false" width="145" height="145" alt=""/>

                    <p id="demo" style="display: none;"></p>
                </DIV>

                <DIV STYLE="position:absolute; top:467px; left:348px; visibility:visible z-index:1">
                  <!--imagen del tarro #3-->
                    <img src="jar.png" draggable="false" width="140" height="140" alt=""/>

                    <p id="demo" style="display: none;"></p>
                </DIV>

                <DIV STYLE="position:absolute; top:505px; left:156px; visibility:visible z-index:1">
                    <h1>
                        <!--Cantidad de elementos de los circulos-->
                        <font size=6><span id='jarra1'>12</span></font>
                    </h1>
                </DIV>

                <DIV STYLE="position:absolute; top:505px; left:278px; visibility:visible z-index:1">
                    <h1>
                        <!--Cantidad de elementos de los cuadrados-->
                        <font size=6><span id='jarra2'>12</span></font>
                    </h1>
                </DIV>

                <DIV STYLE="position:absolute; top:505px; left:400px; visibility:visible z-index:1">
                    <h1>
                        <!--Cantidad de elementos de los triangulos-->
                        <font size=6><span id='jarra3'>12</span></font>
                    </h1>
                </DIV>

            </p>
        </div>

    <!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <p>Le han mandado el siguiente mensaje: <span id='Mensaje'></span></p>
    <HR>
    <p>Escoja el objeto a enviar:</p>
        <img type="button" src="circle.png" id="botCirc" alt="" width="80" height="80">
        <img type="button" src="square.png" id="botCuad" alt="" width="80" height="80">
        <img type="button" src="triangle.png" id="botTri" alt="" width="80" height="80">
        <b style="word-space:2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
        <img type="button" src="IgnoreButton.png" id="botIgn" alt="" width="80" height="80">
  </div>

</div>

<div id="myModal2" class="modal">
  <div class="modal-content">
        <h1><p align="center">

<!--
        </p></h1>
       <div> <img src="fondo.png" aling = center style ="z-index:1"> </div>
-->
        <div>
          <b><h1><font face="arial" aling = top color="black">Escoja su mensaje:</font></h1></b>
        </div>

            <!--
            <DIV id = 'Zab'STYLE="position:absolute; top:280px; left:380px; visibility:visible z-index:1">
                <img id='ZABbutton' src="ZABbutton.png" width="222.22" height="80" alt=""/>
            </DIV>

            <DIV id = 'Xol'STYLE="position:absolute; top:280px; left:600px; visibility:visible z-index:1">
                <img id='XOLbutton' src="XOLbutton.png" width="222.22" height="80" alt=""/>
            </DIV>

            <DIV id = 'Dup'STYLE="position:absolute; top:280px; left:835px; visibility:visible z-index:1">
                <img id='DUPbutton' src="DUPbutton.png" width="222.22" height="80" alt=""/>
            </DIV>
            -->

            <DIV id = 'Zab' visibility:visible z-index:1">
              <!--imagen del boton ZAB-->
                <img id='ZABbutton' src="ZABbutton.png" width="222.22" height="80" alt=""/>
            </DIV>

            <DIV id = 'Xol' visibility:visible z-index:1">
              <!--imagen del boton XOL-->
                <img id='XOLbutton' src="XOLbutton.png" width="222.22" height="80" alt=""/>
            </DIV>

            <DIV id = 'Dup' visibility:visible z-index:1">
              <!--imagen del boton DUP-->
                <img id='DUPbutton' src="DUPbutton.png" width="222.22" height="80" alt=""/>
            </DIV>

            <div>
                <b><h1 face="arial" aling = "top" ><H4>(Observe que las palabras aparecen de forma aleatoria)</H4></h1></b>
            </div>

            <DIV align="center">
              <!--boton de salida-->
               <input type="button" value="salir" id="exitButton">

            </DIV>


    </div>
</div>

</body>
</html>

<script>
      var node = parent.node;

      /* Events fired on the drag target */
      document.addEventListener("dragstart", function(event) {
          // The dataTransfer.setData() method sets the data type and the value of the dragged data
          event.dataTransfer.setData("Text", event.target.id);

          // Output some text when starting to drag the p element
          document.getElementById("demo").innerHTML = "Dragging...";

          // Change the opacity of the draggable element
          event.target.style.opacity = "0.4";
      });

      // While dragging the p element, change the color of the output text
      document.addEventListener("drag", function(event) {
          document.getElementById("demo").style.color = "red";
      });

      // Output some text when finished dragging the p element and reset the opacity
      document.addEventListener("dragend", function(event) {
          document.getElementById("demo").innerHTML = "Finished dragging.";
          event.target.style.opacity = "1";
      });


      /* Events fired on the drop target */

      // When the draggable p element enters the droptarget, change the DIVS's border style
      document.addEventListener("dragenter", function(event) {
          if ( event.target.className == "droptarget" ) {
              event.target.style.border = "3px dotted red";
          }
      });

      // By default, data/elements cannot be dropped in other elements. To allow a drop, we must prevent the default handling of the element
      document.addEventListener("dragover", function(event) {
          event.preventDefault();
      });

      // When the draggable p element leaves the droptarget, reset the DIVS's border style
      document.addEventListener("dragleave", function(event) {
          if ( event.target.className == "droptarget" ) {
              event.target.style.border = "";
          }
      });

      document.addEventListener("drop", function(event) {
          event.preventDefault();
          if ( event.target.className == "droptarget" ) {
              document.getElementById("demo").style.color = "";
              event.target.style.border = "";
              var data = event.dataTransfer.getData("Text");
              //document.getElementById("Puntaje").innerHTML = data;
              console.log('Se enviaron datos', data);
              console.log('Se arrastro en el', event.target.id)
              node.emit('Arrastrar', [data, event.target.id]);
              // event.target.appendChild(document.getElementById(data));

          }
      });

</script>
